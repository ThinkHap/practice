<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>this的用法 - demo</title>
        <style type="text/css">
            body, form, h1, h2, h3, h4, p, img, ul, li, ol, dl, dt, dd, a, span, input, tr, th, td{margin:0;padding:0;}
		    body {font:normal 12px/1.5 "Arial","宋体","Simsun","Tahoma",sans-serif;}
		    li {list-style:none;}
		    img {border:0 none;vertical-align:top;}
		    table {border-collapse:collapse;border-spacing:0;}
            .clear-fix:after {display:block;visibility:hidden;font-size:0;line-height:0;clear:both;content:"";}  
            .clear-fix {zoom:1;}
		    a {color:#000;text-decoration:none;}
		    a:hover {color:#f44;text-decoration:underline;}
            
        </style>
        <script src="https://s.tbcdn.cn/s/kissy/1.2.0/kissy-min.js"></script>
    </head>
    <body>
        <div id="container" class="container">
             结果见console控制台
        </div>
        <script>
            var n = 999;
            function f1(){
                console.log(n);
            }
            f1();


            function f2(){
                var n2 = 998;
            }
            //console.log(n2); // error


            function f3(){
                n3 = 997;
            }
            f3();
            console.log('');
            console.log(window.n3);
            console.log(n3);
            console.log('');



            //从外部读取局部变量
            function f4(){
                var n4 = 996;
                function f5(){
                    console.log(n4); //996
                }
                return f5
            }
            var result = f4();
            //console.log(result);
            result();
            console.log('');


            function f6() {
                var n6 = 999;
                nAdd = function(){n6+=1};
                function f7(){
                    console.log(n6);
                }
                return f7;
            }
            var result6 = f6();
            result6();//999
            nAdd();
            result6();//1000
            console.log('');


            //text1 
            var name = "The Window - outer";
            var object = {
                name: "My Object - inner",
                getNameFunc: function(){
                    //console.log(this);
                    return function(){
                        //console.log(this);
                        return this.name;
                    }
                },
                getNameFunc2: function(){
                    var that = this;
                    return function(){
                        return that.name
                    }
                }
            }
            console.log(object.getNameFunc()());
            console.log(object.getNameFunc2()());
        </script>
    </body>
</html>
