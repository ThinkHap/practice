<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>object 非构造函数继承 - demo</title>
        <style type="text/css">
            body, form, h1, h2, h3, h4, p, img, ul, li, ol, dl, dt, dd, a, span, input, tr, th, td{margin:0;padding:0;}
		    body {font:normal 12px/1.5 "Arial","宋体","Simsun","Tahoma",sans-serif;}
		    li {list-style:none;}
		    img {border:0 none;vertical-align:top;}
		    table {border-collapse:collapse;border-spacing:0;}
            .clear-fix:after {display:block;visibility:hidden;font-size:0;line-height:0;clear:both;content:"";}  
            .clear-fix {zoom:1;}
		    a {color:#000;text-decoration:none;}
		    a:hover {color:#f44;text-decoration:underline;}
            
        </style>
        <script src="https://s.tbcdn.cn/s/kissy/1.2.0/kissy-min.js"></script>
    </head>
    <body>
        <div id="container" class="container">
             结果见console控制台
        </div>
        <script>
            var Chinese = {
                nation: '中国'
            }
            //var Doctor = {
            //    career: '医生'
            //}
            //console.log(Chinese);
            //console.log(Doctor);
            //console.log(Chinese.prototype);
            //console.log(Chinese.__proto__);

            //1.object方法进行继承
            function object(o) {
                function F(){};
                F.prototype = o;
                return new F();
            }

            var Doctor = object(Chinese);
            //console.log(Doctor);
            Doctor.career = '医生';
            console.log(Doctor.nation);
            console.log('');


            //浅拷贝
            function extendCopy(p) {
                var c = {};
                for (var i in p) {
                    c[i] = p[i];
                }
                c.uber = p;
                return c;
            }

            var Doctor2 = extendCopy(Chinese);
            Doctor2.career = '医生';
            //console.log(Doctor2);
            console.log(Doctor2.nation);
            console.log('');


            //深拷贝
            function deepCopy(p, c) {
                var c = c || {};
                for(var i in p) {
                    if(typeof p[i] === 'object') {
                        c[i] = (p[i].constructor === Array) ? [] : {};
                        deepCopy(p[i], c[i]);
                    } else {
                        c[i] = p[i];
                    }
                }
                return c;
            }

            Chinese.birthPlaces = ['北京', '上海', '香港'];

            var Doctor3 = deepCopy(Chinese);
            Doctor3.birthPlaces.push('厦门');
            console.log(Doctor3.birthPlaces);
            console.log(Chinese.birthPlaces);

        </script>
    </body>
</html>
