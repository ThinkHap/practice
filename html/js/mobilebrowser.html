<!DOCTYPE html>
<html>
    <head>
        <meta charset="gbk" />
        <title>demo</title>
        <style type="text/css">
            body, form, h1, h2, h3, h4, p, img, ul, li, ol, dl, dt, dd, a, span, input, tr, th, td{margin:0;padding:0;}
		    body {font:normal 12px/1.5 "Arial","ËÎÌå","Simsun","Tahoma",sans-serif;}
		    li {list-style:none;}
		    img {border:0 none;vertical-align:top;}
		    table {border-collapse:collapse;border-spacing:0;}
            .clear-fix:after {display:block;visibility:hidden;font-size:0;line-height:0;clear:both;content:"";}  
            .clear-fix {zoom:1;}
		    a {color:#000;text-decoration:none;}
		    a:hover {color:#f44;text-decoration:underline;}
            
        </style>
        <script src="http://a.tbcdn.cn/s/kissy/1.2.0/kissy.js"></script>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.js"></script>
    </head>
    <body>
        <textarea name="textarea" rows="20" cols="100">
            // ÅÐ¶Ï ÒÆ¶¯ä¯ÀÀÆ÷°æ±¾
            var browser = (function (ua) {
                var device = '', version = '', android, ipad, iphone;
                (android = ua.match(/(Android)\s+([\d.]+)/)) && (device = 'android') && (version = android[2]) ||
                (ipad = ua.match(/(iPad).*OS\s([\d_]+)/)) && (device = 'ipad') && (version = ipad[2].replace(/_/g, '.')) ||
                (iphone = !ipad && ua.match(/(iPhone\sOS)\s([\d_]+)/)) && (device = 'iphone') && (version = iphone[2].replace(/_/g, '.'));
                return { device: device, version: version.split('.'), mainVer: version.replace(/^(\d\.\d).*$/, '$1') };
            })(navigator.userAgent);
        </textarea>
        <div id="mobile" class="mobile"></div>
        <script>
            // ÅÐ¶Ï ÒÆ¶¯ä¯ÀÀÆ÷°æ±¾
            var browser = (function (ua) {
                var device = '', version = '', android, ipad, iphone;
                (android = ua.match(/(Android)\s+([\d.]+)/)) && (device = 'android') && (version = android[2]) ||
                (ipad = ua.match(/(iPad).*OS\s([\d_]+)/)) && (device = 'ipad') && (version = ipad[2].replace(/_/g, '.')) ||
                (iphone = !ipad && ua.match(/(iPhone\sOS)\s([\d_]+)/)) && (device = 'iphone') && (version = iphone[2].replace(/_/g, '.'));
                return { device: device, version: version.split('.'), mainVer: version.replace(/^(\d\.\d).*$/, '$1') };
            })(navigator.userAgent);
            document.getElementById('mobile').innerHTML = browser;
            console.log(browser);
        </script>
    </body>
</html>
