<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>html-template demo</title>
        <style type="text/css">
                
        </style>
        <script src="https://s.tbcdn.cn/s/kissy/1.2.0/kissy-min.js"></script>
    </head>
    <body>
        <script type="text/template" id="entry">
            <div class="entry">
                {{#if paid}}
                <h1>付费</h1>
                {{#elseif free}}
                <h1>免费</h1>
                {{/if}}
                <h1>{{title}}</h1>
                <div class="body">
                    <p>{{body}}</p>
                    {{#if bodyList}}
                    <ul>
                    {{/if}}
                        {{#each bodyList}}
                        <li>{{_ks_value.name}}</li>
                        {{/each}}
                    {{#if bodyList}}
                    </ul>
                    {{/if}}
                    <p>{{name}}</p>
                    {{#if eachList}}
                    <ul>
                    {{/if}}
                        {{#each eachList as list index}}
                        <li>{{index}}: {{#each list.name as name}} {{name}} {{/each}}</li>
                        {{/each}}
                    {{#if eachList}}
                    </ul>
                    {{/if}}
                </div>
            </div>
        </script>
        <div id="wrap" class="wrap">
            
        </div>        
        <script>
            var S = KISSY, D = S.DOM, E = S.Event;
            S.use("template", function(Template){
                var html = document.getElementById('entry').innerHTML;
                var source = S.Template(html).render({title: 'hello title', body: 'hello body', name: 'hello name', paid: false, free: 'true', bodyList: [{name: 'name1'}, {name: 'franky'}, {name: 'luffy'}], eachList: [{name: ['name1', 'name2']}, {name: ['franky', 'franky2']}, {name: ['luffy', 'sanji']}]});
                D.html('#wrap', source);
                console.log(source);
            });
        </script>
    </body>
</html>
